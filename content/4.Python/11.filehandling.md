---
title: Python File Handling
description: Python File Handling in Python.
navigation:
  icon: i-lucide-book-text
---

## Python File Handling

#### 1. **What is File Handling?**

- File handling involves reading from and writing to files in Python.
- Files can store data (text, binary, CSV, etc.) persistently on disk.
- Python provides built-in functions and methods to manage files.

**Key Operations:**

- Open a file
- Read from a file
- Write to or create a file
- Delete a file

---

#### 2. **Opening a File**

- Use the `open()` function to access a file.
- Syntax: `file_object = open(file_name, mode)`
- Common modes:
  - `'r'`: Read (default, file must exist).
  - `'w'`: Write (creates a new file or overwrites an existing one).
  - `'a'`: Append (adds to the end of the file, creates if it doesn’t exist).
  - `'r+'`: Read and write (file must exist).

**Example:**

```sh
file = open("example.txt", "r")  # Opens file for reading
```

**Best Practice:**

- Use a `with` statement to automatically close files after use, preventing resource leaks.

```sh
with open("example.txt", "r") as file:
    content = file.read()  # File is automatically closed after this block
```

---

#### 3. **Reading Files**

- Python provides methods to read file content:
  - `read()`: Reads the entire file as a single string.
  - `readline()`: Reads one line at a time.
  - `readlines()`: Reads all lines into a list of strings.
  - Looping over the file object: Reads line by line efficiently.

**Examples:**

```sh
# Reading entire file
with open("example.txt", "r") as file:
    content = file.read()
    print(content)

# Reading line by line
with open("example.txt", "r") as file:
    for line in file:
        print(line.strip())  # strip() removes trailing newlines

# Reading all lines into a list
with open("example.txt", "r") as file:
    lines = file.readlines()
    print(lines)  # List of lines, including newlines
```

**Notes:**

- Ensure the file exists when using `'r'` mode, or a `FileNotFoundError` occurs.
- Use `strip()` to remove unwanted newlines or whitespace when processing lines.

---

#### 4. **Writing/Creating Files**

- Use `'w'` mode to write to a file (creates a new file or overwrites an existing one).
- Use `'a'` mode to append to a file (adds content to the end, creates if it doesn’t exist).
- Methods:
  - `write()`: Writes a string to the file.
  - `writelines()`: Writes a list of strings to the file.

**Examples:**

```sh
# Writing to a new file (or overwriting existing)
with open("example.txt", "w") as file:
    file.write("Hello, Python!\n")
    file.write("This is a new line.")

# Appending to a file
with open("example.txt", "a") as file:
    file.write("Appending this line.\n")

# Writing a list of strings
lines = ["Line 1\n", "Line 2\n", "Line 3\n"]
with open("example.txt", "w") as file:
    file.writelines(lines)
```

**Notes:**

- `'w'` mode erases existing content; use `'a'` to preserve it.
- Add `\n` manually for newlines when using `write()`.

---

#### 5. **Deleting Files**

- Use the `os` module to delete files.
- Method: `os.remove(file_name)` to delete a file.
- Check if a file exists before deleting to avoid errors using `os.path.exists()`.

**Example:**

```sh
import os

# Delete a file
if os.path.exists("example.txt"):
    os.remove("example.txt")
    print("File deleted successfully.")
else:
    print("File does not exist.")
```

**Deleting a Directory:**

- Use `os.rmdir(directory_name)` to delete an empty directory.
- Use `shutil.rmtree(directory_name)` to delete a directory and its contents.

**Example:**

```sh
import shutil

# Delete an empty directory
os.rmdir("my_folder")

# Delete a directory and its contents
shutil.rmtree("my_folder")
```

**Notes:**

- Deleting is permanent; ensure the file is no longer needed.
- Handle exceptions (e.g., `FileNotFoundError`, `PermissionError`) for robust code.

**Example with Exception Handling:**

```sh
import os

try:
    os.remove("example.txt")
    print("File deleted successfully.")
except FileNotFoundError:
    print("File not found.")
except PermissionError:
    print("Permission denied.")
```

---

#### 6. **Teaching Tips**

- **Demonstrate Practically:** Use a simple text file (e.g., `example.txt`) to show reading, writing, and deleting in a Python environment.
- **Highlight Errors:** Demonstrate common errors (e.g., `FileNotFoundError` when reading a nonexistent file) and how to handle them.
- **Interactive Exercises:**
  - Create a file, write multiple lines, and read them back.
  - Append user input to a file and display the updated content.
  - Write a script to safely delete a file with existence checks.
- **Real-World Example:** Simulate a log file (e.g., for a student attendance system) to show writing and appending data.
- **Emphasize `with` Statement:** Stress its importance for automatic file closure to avoid resource leaks.
- **File Modes Table:**
  | Mode | Description | Creates File? | Overwrites? |
  |------|---------------------------------|---------------|-------------|
  | `'r'` | Read only | No | No |
  | `'w'` | Write only | Yes | Yes |
  | `'a'` | Append | Yes | No |
  | `'r+'`| Read and write | No | Yes |

---

These notes provide a clear, structured overview for teaching Python file handling. Let me know if you need additional examples, exercises, or a specific format for your class!
